<%- include("./partials/header.ejs") %>
<%- include("./partials/navbar.ejs") %>

<link rel="stylesheet" href="/css/owner.css">
<link rel="stylesheet" href="/css/dashboard.css">

<script>
    function openTab(evt, tabName) {
        var i, x, tablinks;
        x = document.getElementsByClassName("content-tab");
        for (i = 0; i < x.length; i++) {
            x[i].style.display = "none";
        }
        tablinks = document.getElementsByClassName("tab");
        for (i = 0; i < x.length; i++) {
            tablinks[i].className = tablinks[i].className.replace(" is-active", "");
        }
        document.getElementById(tabName).style.display = "block";
        evt.currentTarget.className += " is-active";
    }
</script>
<div class="box container">
    <div class="tabs">
        <ul>
            <li class="tab is-active" onclick="openTab(event,'BotInfo')"><a >Bot Info</a></li>
            <li class="tab" onclick="openTab(event,'Guilds')"><a >Guilds</a></li>
            <li class="tab" onclick="openTab(event,'Users')"><a >Users</a></li>
            <li class="tab" onclick="openTab(event,'Log')"><a >Log</a></li>
        </ul> 
    </div>


    <div class="section">
        <div id="BotInfo" class="content-tab">
            <h1>Bot Info</h1>
        </div>
        <div id="Guilds" class="content-tab" style="display:none;">
            <h1>Guilds</h1>
            <div class="guilds">
                <% guilds.forEach(guild => { %>
                    <% let guilds = [guild.id] %>
                    <%- include("partials/guild.ejs", { guild, guilds }) %>
                <% }); %>
            </div>
        </div>
        <div id="Users" class="content-tab" style="display:none;">
            <h1>Users</h1>
        </div>
        <div id="Log" class="content-tab" style="display:none;">
            <h1>Log</h1>
        </div>
    </div>

</div>

<%- include('./partials/footer.ejs') %>